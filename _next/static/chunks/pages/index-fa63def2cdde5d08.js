(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6633)}])},6633:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return A}});var o=t(5893),i=t(9008),r=t(214),a=t.n(r),s=t(7294),c=t(4051),l=t.n(c),u=t(5697),p=function(){return(p=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},f={onActivate:u.func,onAddUndo:u.func,onBeforeAddUndo:u.func,onBeforeExecCommand:u.func,onBeforeGetContent:u.func,onBeforeRenderUI:u.func,onBeforeSetContent:u.func,onBeforePaste:u.func,onBlur:u.func,onChange:u.func,onClearUndos:u.func,onClick:u.func,onContextMenu:u.func,onCopy:u.func,onCut:u.func,onDblclick:u.func,onDeactivate:u.func,onDirty:u.func,onDrag:u.func,onDragDrop:u.func,onDragEnd:u.func,onDragGesture:u.func,onDragOver:u.func,onDrop:u.func,onExecCommand:u.func,onFocus:u.func,onFocusIn:u.func,onFocusOut:u.func,onGetContent:u.func,onHide:u.func,onInit:u.func,onKeyDown:u.func,onKeyPress:u.func,onKeyUp:u.func,onLoadContent:u.func,onMouseDown:u.func,onMouseEnter:u.func,onMouseLeave:u.func,onMouseMove:u.func,onMouseOut:u.func,onMouseOver:u.func,onMouseUp:u.func,onNodeChange:u.func,onObjectResizeStart:u.func,onObjectResized:u.func,onObjectSelected:u.func,onPaste:u.func,onPostProcess:u.func,onPostRender:u.func,onPreProcess:u.func,onProgressState:u.func,onRedo:u.func,onRemove:u.func,onReset:u.func,onSaveContent:u.func,onSelectionChange:u.func,onSetAttrib:u.func,onSetContent:u.func,onShow:u.func,onSubmit:u.func,onUndo:u.func,onVisualAid:u.func},d=p({apiKey:u.string,id:u.string,inline:u.bool,init:u.object,initialValue:u.string,onEditorChange:u.func,outputFormat:u.oneOf(["html","text"]),value:u.string,tagName:u.string,cloudChannel:u.string,plugins:u.oneOfType([u.string,u.array]),toolbar:u.oneOfType([u.string,u.array]),disabled:u.bool,textareaName:u.string,tinymceScriptSrc:u.string,rollback:u.oneOfType([u.number,u.oneOf([!1])]),scriptLoading:u.shape({async:u.bool,defer:u.bool,delay:u.number})},f),h=function(e){return"function"===typeof e},v=function(e){return e in f},m=function(e){return e.substr(2)},y=function(e,n,t,o,i){return function(e,n,t,o,i,r,a){var s=Object.keys(i).filter(v),c=Object.keys(r).filter(v),l=s.filter((function(e){return void 0===r[e]})),u=c.filter((function(e){return void 0===i[e]}));l.forEach((function(e){var n=m(e),o=a[n];t(n,o),delete a[n]})),u.forEach((function(t){var i=o(e,t),r=m(t);a[r]=i,n(r,i)}))}(i,e.on.bind(e),e.off.bind(e),(function(n,t){return function(o){var i;return null===(i=n(t))||void 0===i?void 0:i(o,e)}}),n,t,o)},g=0,b=function(e){var n=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++g+String(n)},k=function(e){return null!==e&&("textarea"===e.tagName.toLowerCase()||"input"===e.tagName.toLowerCase())},C=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},w=function(e,n){void 0!==e&&(null!=e.mode&&"object"===typeof e.mode&&"function"===typeof e.mode.set?e.mode.set(n):e.setMode(n))},S=function(){return{listeners:[],scriptId:b("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},O=function(){var e=S();return{load:function(n,t,o,i,r,a){var s=function(){return function(e,n,t,o,i,r){var a=n.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=e,a.src=t,a.async=o,a.defer=i;var s=function(){a.removeEventListener("load",s),r()};a.addEventListener("load",s),n.head&&n.head.appendChild(a)}(e.scriptId,n,t,o,i,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0}))};e.scriptLoaded?a():(e.listeners.push(a),e.scriptLoading||(e.scriptLoading=!0,r>0?setTimeout(s,r):s()))},reinitialize:function(){e=S()}}}(),E=function(){var e="undefined"!==typeof window?window:t.g;return e&&e.tinymce?e.tinymce:null},_=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(n,t)};return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),x=function(){return(x=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},T=function(){var e,n,t;return(null===(t=null===(n=null===(e=E())||void 0===e?void 0:e.Env)||void 0===n?void 0:n.browser)||void 0===t?void 0:t.isIE())?"change keyup compositionend setcontent":"change input compositionend setcontent"},j=function(){return window.InputEvent&&"function"===typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"},D=function(e){function n(n){var t,o,i,r=e.call(this,n)||this;return r.rollbackTimer=void 0,r.valueCursor=void 0,r.rollbackChange=function(){var e=r.editor,n=r.props.value;e&&n&&n!==r.currentContent&&e.undoManager.ignore((function(){if(e.setContent(n),r.valueCursor&&(!r.inline||e.hasFocus()))try{e.selection.moveToBookmark(r.valueCursor)}catch(t){}})),r.rollbackTimer=void 0},r.handleBeforeInput=function(e){if(void 0!==r.props.value&&r.props.value===r.currentContent&&r.editor&&(!r.inline||r.editor.hasFocus))try{r.valueCursor=r.editor.selection.getBookmark(3)}catch(n){}},r.handleBeforeInputSpecial=function(e){"Enter"!==e.key&&"Backspace"!==e.key&&"Delete"!==e.key||r.handleBeforeInput(e)},r.handleEditorChange=function(e){var n=r.editor;if(n&&n.initialized){var t=n.getContent();if(void 0!==r.props.value&&r.props.value!==t&&!1!==r.props.rollback&&(r.rollbackTimer||(r.rollbackTimer=window.setTimeout(r.rollbackChange,"number"===typeof r.props.rollback?r.props.rollback:200))),t!==r.currentContent&&(r.currentContent=t,h(r.props.onEditorChange))){var o=r.props.outputFormat,i="html"===o?t:n.getContent({format:o});r.props.onEditorChange(i,n)}}},r.handleEditorChangeSpecial=function(e){"Backspace"!==e.key&&"Delete"!==e.key||r.handleEditorChange(e)},r.initialise=function(e){var n,t,o;void 0===e&&(e=0);var i=r.elementRef.current;if(i)if(function(e){if(!("isConnected"in Node.prototype)){for(var n=e,t=e.parentNode;null!=t;)t=(n=t).parentNode;return n===e.ownerDocument}return e.isConnected}(i)){var a=E();if(!a)throw new Error("tinymce should have been loaded into global scope");var s,c,l=x(x({},r.props.init),{selector:void 0,target:i,readonly:r.props.disabled,inline:r.inline,plugins:(s=null===(n=r.props.init)||void 0===n?void 0:n.plugins,c=r.props.plugins,C(s).concat(C(c))),toolbar:null!==(t=r.props.toolbar)&&void 0!==t?t:null===(o=r.props.init)||void 0===o?void 0:o.toolbar,setup:function(e){r.editor=e,r.bindHandlers({}),r.inline&&!k(i)&&e.once("PostRender",(function(n){e.setContent(r.getInitialValue(),{no_events:!0})})),r.props.init&&h(r.props.init.setup)&&r.props.init.setup(e)},init_instance_callback:function(e){var n,t,o=r.getInitialValue();r.currentContent=null!==(n=r.currentContent)&&void 0!==n?n:e.getContent(),r.currentContent!==o&&(r.currentContent=o,e.setContent(o),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1));var i=null!==(t=r.props.disabled)&&void 0!==t&&t;w(r.editor,i?"readonly":"design"),r.props.init&&h(r.props.init.init_instance_callback)&&r.props.init.init_instance_callback(e)}});r.inline||(i.style.visibility=""),k(i)&&(i.value=r.getInitialValue()),a.init(l)}else if(0===e)setTimeout((function(){return r.initialise(1)}),1);else{if(!(e<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((function(){return r.initialise(e+1)}),100)}},r.id=r.props.id||b("tiny-react"),r.elementRef=s.createRef(),r.inline=null!==(i=null!==(t=r.props.inline)&&void 0!==t?t:null===(o=r.props.init)||void 0===o?void 0:o.inline)&&void 0!==i&&i,r.boundHandlers={},r}return _(n,e),n.prototype.componentDidUpdate=function(e){var n,t,o=this;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(e),this.editor.initialized)){if(this.currentContent=null!==(n=this.currentContent)&&void 0!==n?n:this.editor.getContent(),"string"===typeof this.props.initialValue&&this.props.initialValue!==e.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"===typeof this.props.value&&this.props.value!==this.currentContent){var i=this.editor;i.undoManager.transact((function(){var e;if(!o.inline||i.hasFocus())try{e=i.selection.getBookmark(3)}catch(s){}var n=o.valueCursor;if(i.setContent(o.props.value),!o.inline||i.hasFocus())for(var t=0,r=[e,n];t<r.length;t++){var a=r[t];if(a)try{i.selection.moveToBookmark(a),o.valueCursor=a;break}catch(s){}}}))}if(this.props.disabled!==e.disabled){var r=null!==(t=this.props.disabled)&&void 0!==t&&t;w(this.editor,r?"readonly":"design")}}},n.prototype.componentDidMount=function(){var e,n,t,o,i,r;null!==E()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&O.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(n=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==n&&n,null!==(o=null===(t=this.props.scriptLoading)||void 0===t?void 0:t.defer)&&void 0!==o&&o,null!==(r=null===(i=this.props.scriptLoading)||void 0===i?void 0:i.delay)&&void 0!==r?r:0,this.initialise)},n.prototype.componentWillUnmount=function(){var e=this,n=this.editor;n&&(n.off(T(),this.handleEditorChange),n.off(j(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(t){n.off(t,e.boundHandlers[t])})),this.boundHandlers={},n.remove(),this.editor=void 0)},n.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},n.prototype.renderInline=function(){var e=this.props.tagName,n=void 0===e?"div":e;return s.createElement(n,{ref:this.elementRef,id:this.id})},n.prototype.renderIframe=function(){return s.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},n.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel,n=this.props.apiKey?this.props.apiKey:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(n,"/tinymce/").concat(e,"/tinymce.min.js")},n.prototype.getInitialValue=function(){return"string"===typeof this.props.initialValue?this.props.initialValue:"string"===typeof this.props.value?this.props.value:""},n.prototype.bindHandlers=function(e){var n=this;if(void 0!==this.editor){y(this.editor,e,this.props,this.boundHandlers,(function(e){return n.props[e]}));var t=function(e){return void 0!==e.onEditorChange||void 0!==e.value},o=t(e),i=t(this.props);!o&&i?(this.editor.on(T(),this.handleEditorChange),this.editor.on(j(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):o&&!i&&(this.editor.off(T(),this.handleEditorChange),this.editor.off(j(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},n.propTypes=d,n.defaultProps={cloudChannel:"5"},n}(s.Component);function P(e,n,t,o,i,r,a){try{var s=e[r](a),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(o,i)}function I(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function R(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,n){return!n||"object"!==L(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function N(e,n){return(N=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var L=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=B(e);if(n){var i=B(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return M(this,t)}}var V=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}(a,e);var n,t,i,r=H(a);function a(){var e;return I(this,a),(e=r.apply(this,arguments)).handleEditorChange=function(e){console.log("Content was updated: ",e.target.getContent())},e.state={playing:!1},e}return n=a,(t=[{key:"render",value:function(){var e=this;return(0,o.jsx)(D,{initialValue:"",init:{height:"100vh",menu:{tts:{title:"TTS",items:"activatetts"},file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},menubar:"file edit view insert format tools tts table help",plugins:["print preview paste importcss searchreplace autolink autosave save directionality code","visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak","nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern noneditable help","charmap quickbars emoticons opendocs-editor"],toolbar:"undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect                     | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor                     backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile                     image media template link anchor codesample | ltr rtl rtc",font_formats:"Andale Mono=andale mono,times;                    Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde;                     Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif;                     Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica;                     Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco;                     Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva;                     Webdings=webdings; Wingdings=wingdings,zapf dingbats; OpenDyslexic 2=OpenDyslexic Two;                     OpenDyslexic 3=OpenDyslexic Three; OpenDyslexic Alta=OpenDyslexic Alta; OpenDyslexic Mono=OpenDyslexic Mono;",branding:!1,id:"_3ditor_tinymce",images_upload_url:"https://docs.nosadnile.net/api/v1/editor/image/upload",content_style:"@import url('/fonts/opendyslexic.css');",setup:function(n){var t=new SpeechSynthesisUtterance("Prep");t.voice=speechSynthesis.getVoices()[4],t.lang="en",t.rate=1,t.volume=0,speechSynthesis.speak(t),speechSynthesis.cancel(),n.ui.registry.addSidebar("headings-sidebar",{tooltip:"Headings in the document.",icon:"list-num-lower-roman",onSetup:function(e){return console.log("Render panel",e.element()),function(){}},onShow:function(e){return console.log("Show panel",e.element()),e.element().innerHTML="Hello world!",function(){}},onHide:function(e){return console.log("Hide panel",e.element()),function(){}}}),n.ui.registry.addMenuItem("headings",{text:"Headings",icon:"list-num-lower-roman",onAction:function(){n.execCommand("togglesidebar",!1,"headers")}});var o,i=e;n.ui.registry.addMenuItem("activatetts",{text:"Text to Speech",onAction:(o=l().mark((function e(){var t,o,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.state.playing){e.next=4;break}return speechSynthesis.speaking&&speechSynthesis.cancel(),i.state.playing=!1,e.abrupt("return");case 4:i.state.playing=!0,t=n.getContent({format:"text"}),o=t.split("."),r=0;case 8:if(!(r<o.length)){e.next=19;break}if(i.state.playing){e.next=11;break}return e.abrupt("break",19);case 11:return a=o[r],n.setContent(n.getContent().replace(a,'<span class="speaking">'.concat(a,"</span>"))),e.next=15,new Promise((function(e){var n=new SpeechSynthesisUtterance(a);n.voice=speechSynthesis.getVoices()[4],n.lang="en",n.rate=1,n.addEventListener("end",(function(n){return e(n)})),speechSynthesis.speak(n)}));case 15:n.setContent(n.getContent().replace('<span class="speaking">'.concat(a,"</span>"),a));case 16:r++,e.next=8;break;case 19:i.state.playing=!1;case 20:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,i){var r=o.apply(e,n);function a(e){P(r,t,i,a,s,"next",e)}function s(e){P(r,t,i,a,s,"throw",e)}a(void 0)}))})})}},tinymceScriptSrc:"/tinymce/js/tinymce/tinymce.min.js"})}}])&&R(n.prototype,t),i&&R(n,i),a}(s.Component),A=function(){return(0,o.jsxs)("div",{className:a().container,children:[(0,o.jsxs)(i.default,{children:[(0,o.jsx)("title",{children:"3ditor Demo"}),(0,o.jsx)("meta",{name:"description",content:"3ditor: The open-source multiplatform React-based editor that powers OpenDocs."}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("div",{className:a().app,children:(0,o.jsx)(V,{})})]})}},214:function(){},9008:function(e,n,t){e.exports=t(5443)},2703:function(e,n,t){"use strict";var o=t(414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,r,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:r,resetWarningCache:i};return t.PropTypes=t,t}},5697:function(e,n,t){e.exports=t(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);